---
layout: post
title: 'WebHacking.kr_44'
date: 2019-09-07
author: JSB
color: rgb(100,50,100)
cover: '/screenshot/WebHacking/webhacking.kr.jpg'
tags: wargame.kr webhacking
---

# Webhacking.kr 44번

<img src="/screenshot/WebHacking/2/1.png">

문제에 처음 들어가면 위 사진처럼 무언가를 입력하는 칸과
소스를 볼 수 있는 버튼이 있다.

소스를 보면

<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">&lt;?php</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>(<span style="color:#066de2">$_GET</span>[<span style="color:#63a35c">'view_source'</span>]){&nbsp;highlight_file(__FILE__);&nbsp;<span style="color:#a71d5d">exit</span>;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">?&gt;</span><span style="color:#010101">&lt;</span><span style="color:#066de2">html</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">head</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">title</span><span style="color:#010101">&gt;</span>Challenge&nbsp;44<span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">title</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">head</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">body</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">&lt;?php</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>(<span style="color:#066de2">$_POST</span>[<span style="color:#63a35c">'id'</span>]){</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">$id</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">$_POST</span>[<span style="color:#63a35c">'id'</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#066de2">$id</span>&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">substr</span>(<span style="color:#066de2">$id</span>,<span style="color:#0099cc">0</span>,<span style="color:#0099cc">5</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;system(<span style="color:#63a35c">"echo&nbsp;'hello!&nbsp;{$id}'"</span>);&nbsp;<span style="color:#999999">//&nbsp;You&nbsp;just&nbsp;need&nbsp;to&nbsp;execute&nbsp;ls</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">?&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">center</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">form</span>&nbsp;<span style="color:#0a9989">method</span>=<span style="color:#0a9989">post</span>&nbsp;<span style="color:#0a9989">action</span>=<span style="color:#0a9989">index.php</span>&nbsp;<span style="color:#0a9989">name</span>=<span style="color:#0a9989">htmlfrm</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">name&nbsp;:&nbsp;<span style="color:#010101">&lt;</span><span style="color:#066de2">input</span>&nbsp;<span style="color:#0a9989">name</span>=<span style="color:#0a9989">id</span>&nbsp;<span style="color:#0a9989">type</span>=<span style="color:#0a9989">text</span>&nbsp;<span style="color:#0a9989">maxlength</span>=<span style="color:#0a9989">5</span><span style="color:#010101">&gt;</span><span style="color:#010101">&lt;</span><span style="color:#066de2">input</span>&nbsp;<span style="color:#0a9989">type</span>=<span style="color:#0a9989">submit</span>&nbsp;<span style="color:#0a9989">value</span>=<span style="color:#df5000">'submit'</span><span style="color:#0a9989"></span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">form</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#066de2">a</span>&nbsp;<span style="color:#0a9989">href</span>=<span style="color:#0a9989">./?view_source</span>=<span style="color:#0a9989">1</span><span style="color:#010101">&gt;</span>view-source<span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">a</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">center</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">body</span><span style="color:#010101">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#010101">&lt;</span><span style="color:#010101">/</span><span style="color:#066de2">html</span><span style="color:#010101">&gt;</span></div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

</hr>

입력값의 0번째부터 5글자의 명령어를 echo 'hello! {이곳에 넣고}'"<= 따옴표를 닫은뒤); 화면에 띄우는 것 같다.
목표는 ls <= 현재디렉토리 리스트 확인 을 실행시키는 것 같다.
그러려면 따옴표를닫아주고 | <= 파이프를 이용해 ls를 실행 해 보자
'|ls' <= 이런 문자열을 입력하면 ls를 실행 할 것이다.

<img src="/screenshot/WebHacking/2/2.png">

</hr>

저게 답인줄알고 auth에 입력했었지만 저걸 주소창에 치고 들어가라는 뜻이였다..

<img src="/screenshot/WebHacking/2/3.png">

<img src="/screenshot/WebHacking/2/3.png">

땨란 플래그가 출력되었다.